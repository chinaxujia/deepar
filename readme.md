# DeepAR å·¥å‚èƒ½è€—é¢„æµ‹æœåŠ¡

## é¡¹ç›®æ¦‚è¿°

åŸºäºAmazon GluonTSçš„DeepARç®—æ³•æ„å»ºçš„å·¥å‚èƒ½è€—æ•°æ®é¢„æµ‹æœåŠ¡ï¼Œæä¾›å®Œæ•´çš„æ—¶é—´åºåˆ—é¢„æµ‹è§£å†³æ–¹æ¡ˆã€‚è¯¥æœåŠ¡ä¸“ä¸ºå·¥ä¸šIoTåœºæ™¯è®¾è®¡ï¼Œèƒ½å¤Ÿå¤„ç†å¤šå˜é‡æ—¶é—´åºåˆ—æ•°æ®ï¼Œæä¾›é«˜ç²¾åº¦çš„èƒ½è€—é¢„æµ‹å’Œæ™ºèƒ½åˆ†æèƒ½åŠ›ã€‚

## æ ¸å¿ƒèƒ½åŠ›

### ğŸ¯ é¢„æµ‹èƒ½åŠ›
- **å¤šæ­¥é¢„æµ‹**: æ”¯æŒçŸ­æœŸï¼ˆå°æ—¶çº§ï¼‰åˆ°é•¿æœŸï¼ˆæœˆåº¦ï¼‰çš„èƒ½è€—é¢„æµ‹
- **æ¦‚ç‡é¢„æµ‹**: æä¾›é¢„æµ‹åŒºé—´å’Œä¸ç¡®å®šæ€§é‡åŒ–
- **å¤šè®¾å¤‡é¢„æµ‹**: æ”¯æŒå¤šä¸ªè®¾å¤‡/äº§çº¿çš„åŒæ—¶é¢„æµ‹
- **åŠ¨æ€è°ƒèŠ‚**: æ ¹æ®å®æ—¶æ•°æ®åŠ¨æ€è°ƒæ•´é¢„æµ‹æ¨¡å‹

### ğŸ“Š æ•°æ®å¤„ç†èƒ½åŠ›  
- **è½»é‡çº§å­˜å‚¨**: æ¥æ”¶é¢„å¤„ç†å¥½çš„JSONè®­ç»ƒæ•°æ®ï¼Œä¸´æ—¶å­˜å‚¨åç›´æ¥ç”¨äºæ¨¡å‹è®­ç»ƒ
- **å†…å­˜ç¼“å­˜**: ä½¿ç”¨Redisç¼“å­˜è®­ç»ƒçŠ¶æ€ã€æ¨¡å‹é…ç½®å’Œé¢„æµ‹ç»“æœ
- **æ–‡ä»¶æŒä¹…åŒ–**: å…³é”®é…ç½®å’Œæ¨¡å‹æ–‡ä»¶ä½¿ç”¨JSONæ ¼å¼æœ¬åœ°å­˜å‚¨
- **æ•°æ®éªŒè¯**: ç®€å•çš„æ•°æ®æ ¼å¼å’Œå®Œæ•´æ€§éªŒè¯

### ğŸ”§ æ¨¡å‹ç®¡ç†èƒ½åŠ›
- **ç‰ˆæœ¬æ§åˆ¶**: æ¨¡å‹ç‰ˆæœ¬ç®¡ç†å’Œå›æ»šæœºåˆ¶
- **A/Bæµ‹è¯•**: æ”¯æŒå¤šæ¨¡å‹å¯¹æ¯”å’Œåœ¨çº¿è¯„ä¼°
- **è‡ªåŠ¨é‡è®­ç»ƒ**: åŸºäºæ•°æ®æ¼‚ç§»å’Œæ€§èƒ½ç›‘æ§çš„è‡ªåŠ¨é‡è®­ç»ƒ
- **æ¨¡å‹è§£é‡Š**: æä¾›é¢„æµ‹ç»“æœçš„å¯è§£é‡Šæ€§åˆ†æ

## æœåŠ¡æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾ï¼ˆè½»é‡çº§ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®¢æˆ·ç«¯è¯·æ±‚     â”‚   HTTP  â”‚   FastAPIæœåŠ¡    â”‚
â”‚  Client Request â”‚ â”€â”€â”€â”€â”€â”€> â”‚  DeepAR Service â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”
                              â”‚      â”‚      â”‚
                              â–¼      â–¼      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ æ¨¡å‹è®­ç»ƒ  â”‚ â”‚Redisâ”‚ â”‚JSONæ–‡ä»¶ â”‚
                    â”‚Training  â”‚ â”‚ç¼“å­˜  â”‚ â”‚å­˜å‚¨    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   æ¨¡å‹æ¨ç†é¢„æµ‹   â”‚
                    â”‚  Inference API  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶

#### 1. APIæœåŠ¡æ¨¡å—
- **FastAPIæ¡†æ¶**: æä¾›é«˜æ€§èƒ½HTTP APIæ¥å£
- **æ•°æ®æ¥æ”¶**: æ¥æ”¶JSONæ ¼å¼çš„æ—¶åºæ•°æ®
- **è¯·æ±‚éªŒè¯**: åŸºæœ¬çš„æ•°æ®æ ¼å¼å’Œå®Œæ•´æ€§éªŒè¯
- **å¼‚æ­¥å¤„ç†**: æ”¯æŒè®­ç»ƒå’Œé¢„æµ‹çš„å¼‚æ­¥ä»»åŠ¡å¤„ç†

#### 2. æ¨¡å‹è®­ç»ƒæ¨¡å—
- **DeepARç®—æ³•**: åŸºäºGluonTSçš„æ·±åº¦å­¦ä¹ æ—¶åºé¢„æµ‹
- **æ•°æ®é¢„å¤„ç†**: ç®€å•çš„æ—¶åºæ•°æ®æ¸…æ´—å’Œæ ¼å¼è½¬æ¢
- **æ¨¡å‹è®­ç»ƒ**: å†…å­˜ä¸­è®­ç»ƒï¼Œæ”¯æŒåŸºæœ¬å‚æ•°é…ç½®
- **è®­ç»ƒç›‘æ§**: åŸºæœ¬çš„è®­ç»ƒçŠ¶æ€å’Œè¿›åº¦è·Ÿè¸ª

#### 3. ç¼“å­˜å­˜å‚¨æ¨¡å—
- **Redisç¼“å­˜**: å­˜å‚¨è®­ç»ƒçŠ¶æ€ã€æ¨¡å‹é…ç½®å’Œé¢„æµ‹ç»“æœ
- **JSONæ–‡ä»¶**: æŒä¹…åŒ–å­˜å‚¨æ¨¡å‹æ–‡ä»¶å’Œå…³é”®é…ç½®
- **å†…å­˜ç®¡ç†**: ä¼˜åŒ–å†…å­˜ä½¿ç”¨ï¼Œé¿å…æ•°æ®å†—ä½™
- **çŠ¶æ€åŒæ­¥**: è®­ç»ƒå’Œé¢„æµ‹çŠ¶æ€çš„å®æ—¶åŒæ­¥

#### 4. åŸºç¡€ç›‘æ§æ¨¡å—
- **ç³»ç»Ÿç›‘æ§**: CPUå’Œå†…å­˜ä½¿ç”¨ç‡ç›‘æ§
- **ä»»åŠ¡çŠ¶æ€**: è®­ç»ƒå’Œé¢„æµ‹ä»»åŠ¡çŠ¶æ€è·Ÿè¸ª
- **ç®€å•æ—¥å¿—**: åŸºæœ¬çš„æ“ä½œæ—¥å¿—è®°å½•
- **å¥åº·æ£€æŸ¥**: æœåŠ¡å¯ç”¨æ€§æ£€æŸ¥

## API æœåŠ¡æ¥å£

### 1. æ¨¡å‹è®­ç»ƒæ¥å£

#### 1.1 æäº¤è®­ç»ƒæ•°æ®
```http
POST /api/v1/training/data
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "dataset_name": "factory_energy_training_2024",  // æ•°æ®é›†åç§°ï¼Œç”¨äºæ ‡è¯†å’Œç®¡ç†æ•°æ®é›†
  "data": {
    "timeseries": [  // æ—¶é—´åºåˆ—æ•°æ®æ•°ç»„ï¼Œæ”¯æŒå¤šè®¾å¤‡æ•°æ®
      {
        "device_id": "device_001",  // è®¾å¤‡å”¯ä¸€æ ‡è¯†ç¬¦
        "location": "workshop_a",   // è®¾å¤‡ä½ç½®ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
        "data_points": [  // è¯¥è®¾å¤‡çš„æ—¶åºæ•°æ®ç‚¹æ•°ç»„
          {
            "timestamp": "2023-01-01T00:00:00Z",  // æ•°æ®æ—¶é—´æˆ³ï¼ˆISO 8601æ ¼å¼ï¼‰
            "energy_consumption": 120.5,  // ç›®æ ‡é¢„æµ‹å˜é‡ï¼šèƒ½è€—å€¼ï¼ˆkWhï¼‰
            "temperature": 25.6,          // ç‰¹å¾å˜é‡ï¼šæ¸©åº¦ï¼ˆâ„ƒï¼‰
            "humidity": 65.2,             // ç‰¹å¾å˜é‡ï¼šæ¹¿åº¦ï¼ˆ%ï¼‰
            "production_rate": 0.85,      // ç‰¹å¾å˜é‡ï¼šç”Ÿäº§æ•ˆç‡ï¼ˆ0-1ï¼‰
            "shift": "day"                // ç‰¹å¾å˜é‡ï¼šç­æ¬¡ï¼ˆåˆ†ç±»å˜é‡ï¼‰
          }
        ]
      }
    ],
    "metadata": {  // æ•°æ®å…ƒä¿¡æ¯
      "data_frequency": "hourly",  // æ•°æ®é‡‡é›†é¢‘ç‡ï¼šhourly/daily/weekly
      "collection_period": {       // æ•°æ®é‡‡é›†æ—¶é—´èŒƒå›´
        "start": "2023-01-01T00:00:00Z",  // å¼€å§‹æ—¶é—´
        "end": "2024-01-01T00:00:00Z"     // ç»“æŸæ—¶é—´
      },
      "data_quality": {  // æ•°æ®è´¨é‡ä¿¡æ¯
        "completeness": 0.98,        // æ•°æ®å®Œæ•´æ€§ï¼ˆ0-1ï¼‰
        "validation_status": "passed" // é¢„éªŒè¯çŠ¶æ€ï¼špassed/failed/pending
      }
    }
  },
  "schema": {  // æ•°æ®ç»“æ„å®šä¹‰
    "target_column": "energy_consumption",  // ç›®æ ‡é¢„æµ‹åˆ—å
    "timestamp_column": "timestamp",        // æ—¶é—´æˆ³åˆ—å
    "feature_columns": ["temperature", "humidity", "production_rate", "shift"],  // ç‰¹å¾åˆ—åæ•°ç»„
    "device_id_column": "device_id",        // è®¾å¤‡IDåˆ—å
    "categorical_columns": ["shift"],       // åˆ†ç±»ç‰¹å¾åˆ—åæ•°ç»„
    "numerical_columns": ["temperature", "humidity", "production_rate"]  // æ•°å€¼ç‰¹å¾åˆ—åæ•°ç»„
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "dataset_id": "train_ds_20240924_001",  // ç³»ç»Ÿç”Ÿæˆçš„æ•°æ®é›†å”¯ä¸€æ ‡è¯†ç¬¦
  "status": "received",  // æ•°æ®æ¥æ”¶çŠ¶æ€ï¼šreceived/processing/failed
  "data_summary": {  // æ•°æ®ç»Ÿè®¡æ‘˜è¦
    "total_records": 8760,      // æ€»æ•°æ®è®°å½•æ•°
    "devices_count": 5,         // è®¾å¤‡æ•°é‡
    "time_span_days": 365,      // æ—¶é—´è·¨åº¦ï¼ˆå¤©ï¼‰
    "features_count": 4,        // ç‰¹å¾æ•°é‡
    "missing_values_pct": 0.02  // ç¼ºå¤±å€¼ç™¾åˆ†æ¯”
  },
  "validation_result": {  // æ•°æ®éªŒè¯ç»“æœ
    "status": "passed",  // éªŒè¯çŠ¶æ€ï¼špassed/failed/warning
    "warnings": [],      // è­¦å‘Šä¿¡æ¯æ•°ç»„
    "recommendations": [  // æ•°æ®è´¨é‡æ”¹è¿›å»ºè®®
      "Consider adding more categorical features for better model performance"
    ]
  },
  "storage_info": {  // å­˜å‚¨ä¿¡æ¯
    "input_format": "json",     // æ¥æ”¶æ ¼å¼
    "storage_format": "csv",    // åå°å­˜å‚¨æ ¼å¼
    "conversion_status": "completed",  // æ ¼å¼è½¬æ¢çŠ¶æ€
    "size_reduction": "35%"     // å­˜å‚¨ç©ºé—´èŠ‚çœæ¯”ä¾‹
  }
}
```

#### 1.2 å¯åŠ¨è®­ç»ƒä»»åŠ¡
```http
POST /api/v1/models/train
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "model_name": "factory_energy_deepar_v1",  // æ¨¡å‹åç§°ï¼Œç”¨äºæ ‡è¯†å’Œç®¡ç†æ¨¡å‹
  "dataset_id": "train_ds_20240924_001",     // è®­ç»ƒæ•°æ®é›†IDï¼ˆé€šè¿‡æäº¤è®­ç»ƒæ•°æ®æ¥å£è·å¾—ï¼‰
  "model_config": {  // DeepARæ¨¡å‹é…ç½®å‚æ•°
    "prediction_length": 24,    // é¢„æµ‹é•¿åº¦ï¼ˆé¢„æµ‹æœªæ¥å¤šå°‘ä¸ªæ—¶é—´ç‚¹ï¼‰
    "context_length": 168,      // ä¸Šä¸‹æ–‡é•¿åº¦ï¼ˆä½¿ç”¨å¤šå°‘å†å²æ•°æ®ç‚¹è¿›è¡Œé¢„æµ‹ï¼‰
    "num_layers": 3,            // LSTMç½‘ç»œå±‚æ•°ï¼ˆ1-5ï¼Œè¶Šå¤§æ¨¡å‹è¶Šå¤æ‚ï¼‰
    "num_cells": 64,            // LSTMå•å…ƒæ•°é‡ï¼ˆ32-512ï¼Œå½±å“æ¨¡å‹å®¹é‡ï¼‰
    "dropout_rate": 0.1,        // Dropoutæ¯”ç‡ï¼ˆ0-0.5ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰
    "epochs": 100,              // è®­ç»ƒè½®æ•°ï¼ˆ10-1000ï¼‰
    "learning_rate": 0.001      // å­¦ä¹ ç‡ï¼ˆ0.0001-0.01ï¼‰
  },
  "training_config": {  // è®­ç»ƒè¿‡ç¨‹é…ç½®
    "batch_size": 32,           // æ‰¹é‡å¤§å°ï¼ˆ16-128ï¼Œå½±å“è®­ç»ƒé€Ÿåº¦å’Œå†…å­˜ä½¿ç”¨ï¼‰
    "validation_split": 0.2,    // éªŒè¯é›†æ¯”ä¾‹ï¼ˆ0.1-0.3ï¼‰
    "early_stopping_patience": 10,  // æ—©åœè½®æ•°ï¼ˆ5-20ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰
    "cross_validation": {       // äº¤å‰éªŒè¯é…ç½®ï¼ˆå¯é€‰ï¼‰
      "enabled": true,          // æ˜¯å¦å¯ç”¨äº¤å‰éªŒè¯
      "folds": 5                // äº¤å‰éªŒè¯æŠ˜æ•°ï¼ˆ3-10ï¼‰
    }
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "task_id": "train_20240924_001",      // è®­ç»ƒä»»åŠ¡å”¯ä¸€æ ‡è¯†ç¬¦
  "model_name": "factory_energy_deepar_v1",  // æ¨¡å‹åç§°
  "status": "initiated",                // ä»»åŠ¡çŠ¶æ€ï¼šinitiated/running/completed/failed
  "dataset_info": {  // ä½¿ç”¨çš„æ•°æ®é›†ä¿¡æ¯
    "dataset_id": "train_ds_20240924_001",  // æ•°æ®é›†ID
    "total_records": 8760,              // æ€»è®°å½•æ•°
    "devices_count": 5,                 // è®¾å¤‡æ•°é‡
    "features_count": 4                 // ç‰¹å¾æ•°é‡
  },
  "estimated_duration": "2h 30m",       // é¢„ä¼°è®­ç»ƒæ—¶é—´
  "created_at": "2024-09-24T12:00:00Z"  // ä»»åŠ¡åˆ›å»ºæ—¶é—´
}
```

#### 1.3 è·å–è®­ç»ƒçŠ¶æ€
```http
GET /api/v1/models/{model_name}/training/status
```

**è·¯å¾„å‚æ•°:**
- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "task_id": "train_20240924_001",      // è®­ç»ƒä»»åŠ¡ID
  "status": "running",                  // è®­ç»ƒçŠ¶æ€ï¼šinitiated/running/completed/failed/stopped
  "progress": 65,                       // è®­ç»ƒè¿›åº¦ç™¾åˆ†æ¯”ï¼ˆ0-100ï¼‰
  "metrics": {  // å½“å‰è®­ç»ƒæŒ‡æ ‡
    "current_epoch": 65,                // å½“å‰è®­ç»ƒè½®æ•°
    "train_loss": 0.234,               // è®­ç»ƒæŸå¤±å€¼
    "val_loss": 0.287,                 // éªŒè¯æŸå¤±å€¼
    "mae": 12.5,                       // å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆMean Absolute Errorï¼‰
    "rmse": 18.7                       // å‡æ–¹æ ¹è¯¯å·®ï¼ˆRoot Mean Square Errorï¼‰
  },
  "estimated_completion": "2024-09-24T15:30:00Z"  // é¢„è®¡å®Œæˆæ—¶é—´
}
```

#### 1.4 åœæ­¢è®­ç»ƒä»»åŠ¡
```http
DELETE /api/v1/models/{model_name}/training/{task_id}
```

**è·¯å¾„å‚æ•°:**

- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰
- `task_id`: è®­ç»ƒä»»åŠ¡IDï¼ˆå­—ç¬¦ä¸²ï¼‰

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "task_id": "train_20240924_001",      // è®­ç»ƒä»»åŠ¡ID
  "status": "stopped",                  // ä»»åŠ¡çŠ¶æ€ï¼šstopped/failed
  "message": "Training task stopped successfully",  // æ“ä½œç»“æœæ¶ˆæ¯
  "stopped_at": "2024-09-24T14:30:00Z"  // åœæ­¢æ—¶é—´
}
```

### 2. æ¨¡å‹ç®¡ç†æ¥å£

#### 2.1 ä¿å­˜æ¨¡å‹
```http
POST /api/v1/models/{model_name}/save
Content-Type: application/json
```

**è·¯å¾„å‚æ•°:**

- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "version": "v1.2.0",  // æ¨¡å‹ç‰ˆæœ¬å·ï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬æ ¼å¼ï¼šmajor.minor.patchï¼‰
  "description": "Optimized DeepAR model with improved feature engineering",  // æ¨¡å‹æè¿°ä¿¡æ¯
  "tags": ["production", "energy", "factory-a"],  // æ¨¡å‹æ ‡ç­¾æ•°ç»„ï¼Œç”¨äºåˆ†ç±»å’Œæ£€ç´¢
  "metadata": {  // æ¨¡å‹å…ƒæ•°æ®ä¿¡æ¯
    "training_data_size": 876543,    // è®­ç»ƒæ•°æ®å¤§å°ï¼ˆè®°å½•æ•°ï¼‰
    "training_duration": "2h 34m",   // è®­ç»ƒè€—æ—¶
    "hyperparameters": {             // æ¨¡å‹è¶…å‚æ•°é…ç½®
      "prediction_length": 24,
      "context_length": 168,
      "num_layers": 3
    }
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "model_id": "model_20240924_001",         // æ¨¡å‹å”¯ä¸€æ ‡è¯†ç¬¦
  "model_name": "factory_energy_deepar_v1", // æ¨¡å‹åç§°
  "version": "v1.2.0",                     // æ¨¡å‹ç‰ˆæœ¬
  "status": "saved",                       // ä¿å­˜çŠ¶æ€ï¼šsaved/failed
  "file_size": "45.2MB",                   // æ¨¡å‹æ–‡ä»¶å¤§å°
  "saved_at": "2024-09-24T16:00:00Z"       // ä¿å­˜æ—¶é—´
}
```

#### 2.2 åŠ è½½æ¨¡å‹
```http
POST /api/v1/models/{model_name}/load
Content-Type: application/json
```

**è·¯å¾„å‚æ•°:**

- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "version": "v1.2.0"  // è¦åŠ è½½çš„æ¨¡å‹ç‰ˆæœ¬å·ï¼ˆå­—ç¬¦ä¸²ï¼Œå¯é€‰ï¼Œä¸æŒ‡å®šåˆ™åŠ è½½æœ€æ–°ç‰ˆæœ¬ï¼‰
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "model_id": "model_20240924_001",         // æ¨¡å‹å”¯ä¸€æ ‡è¯†ç¬¦
  "model_name": "factory_energy_deepar_v1", // æ¨¡å‹åç§°
  "version": "v1.2.0",                     // åŠ è½½çš„æ¨¡å‹ç‰ˆæœ¬
  "status": "loaded",                      // åŠ è½½çŠ¶æ€ï¼šloaded/failed
  "load_time": "3.2s",                    // æ¨¡å‹åŠ è½½è€—æ—¶
  "memory_usage": "128MB",                 // æ¨¡å‹å†…å­˜å ç”¨
  "loaded_at": "2024-09-24T16:30:00Z"      // åŠ è½½å®Œæˆæ—¶é—´
}
```

#### 2.3 è·å–æ¨¡å‹åˆ—è¡¨
```http
GET /api/v1/models?status=active&tag=production&page=1&per_page=10
```

**æŸ¥è¯¢å‚æ•°:**

- `status`: æ¨¡å‹çŠ¶æ€è¿‡æ»¤ï¼ˆå¯é€‰ï¼‰- active/inactive/training/failed
- `tag`: æ¨¡å‹æ ‡ç­¾è¿‡æ»¤ï¼ˆå¯é€‰ï¼‰- æ”¯æŒå¤šä¸ªæ ‡ç­¾ï¼Œç”¨é€—å·åˆ†éš”
- `page`: é¡µç ï¼ˆå¯é€‰ï¼Œé»˜è®¤1ï¼‰
- `per_page`: æ¯é¡µæ•°é‡ï¼ˆå¯é€‰ï¼Œé»˜è®¤10ï¼Œæœ€å¤§100ï¼‰

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "models": [  // æ¨¡å‹åˆ—è¡¨æ•°ç»„
    {
      "name": "factory_energy_deepar_v1",  // æ¨¡å‹åç§°
      "version": "v1.2.0",                // å½“å‰ç‰ˆæœ¬
      "status": "active",                 // æ¨¡å‹çŠ¶æ€ï¼šactive/inactive/training/failed
      "created_at": "2024-09-20T10:00:00Z",  // åˆ›å»ºæ—¶é—´
      "updated_at": "2024-09-24T16:00:00Z",  // æœ€åæ›´æ–°æ—¶é—´
      "performance": {  // æ¨¡å‹æ€§èƒ½æŒ‡æ ‡
        "mae": 12.5,    // å¹³å‡ç»å¯¹è¯¯å·®
        "rmse": 18.7,   // å‡æ–¹æ ¹è¯¯å·®
        "mape": 8.3     // å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®
      },
      "tags": ["production", "energy", "factory-a"],  // æ¨¡å‹æ ‡ç­¾
      "file_size": "45.2MB"  // æ¨¡å‹æ–‡ä»¶å¤§å°
    }
  ],
  "pagination": {  // åˆ†é¡µä¿¡æ¯
    "total": 1,      // æ€»è®°å½•æ•°
    "page": 1,       // å½“å‰é¡µç 
    "per_page": 10,  // æ¯é¡µæ•°é‡
    "total_pages": 1 // æ€»é¡µæ•°
  }
}
```

#### 2.4 åˆ é™¤æ¨¡å‹
```http
DELETE /api/v1/models/{model_name}/versions/{version}
```

**è·¯å¾„å‚æ•°:**

- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰
- `version`: æ¨¡å‹ç‰ˆæœ¬å·ï¼ˆå­—ç¬¦ä¸²ï¼‰

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "model_name": "factory_energy_deepar_v1",  // æ¨¡å‹åç§°
  "version": "v1.2.0",                      // åˆ é™¤çš„ç‰ˆæœ¬å·
  "status": "deleted",                      // åˆ é™¤çŠ¶æ€ï¼šdeleted/failed
  "message": "Model version deleted successfully",  // æ“ä½œç»“æœæ¶ˆæ¯
  "deleted_at": "2024-09-24T17:00:00Z"      // åˆ é™¤æ—¶é—´
}
```

### 3. æ¨¡å‹æ¨ç†æ¥å£

#### 3.1 å®æ—¶é¢„æµ‹
```http
POST /api/v1/models/{model_name}/predict
Content-Type: application/json
```

**è·¯å¾„å‚æ•°:**

- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "data": {  // é¢„æµ‹è¾“å…¥æ•°æ®
    "timestamp": "2024-09-24T12:00:00Z",  // å½“å‰æ—¶é—´æˆ³ï¼ˆé¢„æµ‹èµ·å§‹ç‚¹ï¼‰
    "target": [120.5, 118.3, 125.7, 132.1],  // å†å²ç›®æ ‡å€¼æ•°ç»„ï¼ˆæœ€è¿‘Nä¸ªæ—¶é—´ç‚¹çš„èƒ½è€—å€¼ï¼‰
    "features": {  // å†å²ç‰¹å¾å€¼ï¼ˆä¸targetå¯¹åº”çš„æ—¶é—´ç‚¹ï¼‰
      "temperature": [25.6, 26.1, 25.8, 26.3],    // æ¸©åº¦ç‰¹å¾å€¼æ•°ç»„
      "humidity": [65.2, 64.8, 66.1, 65.9],       // æ¹¿åº¦ç‰¹å¾å€¼æ•°ç»„
      "production_rate": [0.85, 0.88, 0.92, 0.87] // ç”Ÿäº§æ•ˆç‡ç‰¹å¾å€¼æ•°ç»„
    }
  },
  "prediction_config": {  // é¢„æµ‹é…ç½®å‚æ•°
    "prediction_length": 24,  // é¢„æµ‹é•¿åº¦ï¼ˆé¢„æµ‹æœªæ¥24ä¸ªæ—¶é—´ç‚¹ï¼‰
    "num_samples": 100,       // é‡‡æ ·æ•°é‡ï¼ˆ100ä¸ªæ ·æœ¬ç”¨äºæ¦‚ç‡é¢„æµ‹ï¼‰
    "quantiles": [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9]  // åˆ†ä½æ•°æ•°ç»„
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "prediction_id": "pred_20240924_001",  // é¢„æµ‹ä»»åŠ¡å”¯ä¸€æ ‡è¯†ç¬¦
  "timestamp": "2024-09-24T12:00:00Z",   // é¢„æµ‹æ—¶é—´æˆ³
  "predictions": {  // é¢„æµ‹ç»“æœ
    "mean": [125.4, 127.8, 123.2],      // é¢„æµ‹å‡å€¼æ•°ç»„ï¼ˆæ¯ä¸ªæ—¶é—´ç‚¹çš„æœŸæœ›å€¼ï¼‰
    "quantiles": {  // åˆ†ä½æ•°é¢„æµ‹ç»“æœ
      "0.1": [115.2, 117.5, 113.8],     // 10%åˆ†ä½æ•°ï¼ˆä¸‹ç•Œï¼‰
      "0.5": [125.4, 127.8, 123.2],     // 50%åˆ†ä½æ•°ï¼ˆä¸­ä½æ•°ï¼‰
      "0.9": [135.6, 138.1, 132.6]      // 90%åˆ†ä½æ•°ï¼ˆä¸Šç•Œï¼‰
    }
  },
  "confidence_intervals": {  // ç½®ä¿¡åŒºé—´
    "80%": [[118.7, 132.1], [120.9, 134.7]],  // 80%ç½®ä¿¡åŒºé—´æ•°ç»„
    "95%": [[112.3, 138.5], [114.2, 141.4]]   // 95%ç½®ä¿¡åŒºé—´æ•°ç»„
  },
  "prediction_horizon": [  // é¢„æµ‹æ—¶é—´ç‚¹æ•°ç»„
    "2024-09-24T13:00:00Z",  // é¢„æµ‹ç¬¬1ä¸ªæ—¶é—´ç‚¹
    "2024-09-24T14:00:00Z"   // é¢„æµ‹ç¬¬2ä¸ªæ—¶é—´ç‚¹
  ]
}
```

#### 3.2 æ‰¹é‡é¢„æµ‹
```http
POST /api/v1/models/{model_name}/batch-predict
Content-Type: application/json
```

**è·¯å¾„å‚æ•°:**

- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "batch_id": "batch_20240924_001",  // æ‰¹é‡é¢„æµ‹ä»»åŠ¡IDï¼ˆç”¨æˆ·å®šä¹‰ï¼‰
  "input_data": {  // æ‰¹é‡è¾“å…¥æ•°æ®ï¼ˆä¸å®æ—¶é¢„æµ‹æ ¼å¼ç±»ä¼¼ï¼‰
    "timeseries": [  // å¤šä¸ªæ—¶é—´åºåˆ—æ•°æ®
      {
        "device_id": "device_001",
        "data_points": [
          {
            "timestamp": "2024-09-24T00:00:00Z",
            "energy_consumption": 120.5,
            "temperature": 25.6,
            "humidity": 65.2,
            "production_rate": 0.85
          }
        ]
      }
    ]
  },
  "prediction_config": {  // é¢„æµ‹é…ç½®
    "prediction_length": 24,     // é¢„æµ‹é•¿åº¦
    "num_samples": 100,          // é‡‡æ ·æ•°é‡
    "quantiles": [0.1, 0.5, 0.9] // åˆ†ä½æ•°
  },
  "output_config": {  // è¾“å‡ºé…ç½®
    "format": "json",            // è¾“å‡ºæ ¼å¼ï¼šjson/csv
    "include_history": false     // æ˜¯å¦åŒ…å«å†å²æ•°æ®
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "batch_id": "batch_20240924_001",    // æ‰¹é‡é¢„æµ‹ä»»åŠ¡ID
  "status": "initiated",               // ä»»åŠ¡çŠ¶æ€ï¼šinitiated/running/completed/failed
  "total_timeseries": 5,              // æ€»æ—¶é—´åºåˆ—æ•°é‡
  "estimated_completion": "2024-09-24T13:30:00Z",  // é¢„è®¡å®Œæˆæ—¶é—´
  "created_at": "2024-09-24T12:00:00Z"             // ä»»åŠ¡åˆ›å»ºæ—¶é—´
}
```

#### 3.3 è·å–é¢„æµ‹ç»“æœ
```http
GET /api/v1/predictions/{prediction_id}
```

**è·¯å¾„å‚æ•°:**

- `prediction_id`: é¢„æµ‹ä»»åŠ¡IDï¼ˆå­—ç¬¦ä¸²ï¼‰

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "prediction_id": "pred_20240924_001",  // é¢„æµ‹ä»»åŠ¡ID
  "status": "completed",                 // é¢„æµ‹çŠ¶æ€ï¼špending/running/completed/failed
  "results": {  // é¢„æµ‹ç»“æœè¯¦æƒ…ï¼ˆä¸å®æ—¶é¢„æµ‹å“åº”æ ¼å¼ç›¸åŒï¼‰
    "predictions": {
      "mean": [125.4, 127.8, 123.2],
      "quantiles": {...}
    },
    "confidence_intervals": {...}
  },
  "created_at": "2024-09-24T12:00:00Z",   // ä»»åŠ¡åˆ›å»ºæ—¶é—´
  "completed_at": "2024-09-24T12:00:15Z"  // ä»»åŠ¡å®Œæˆæ—¶é—´
}
```

### 4. æ¨¡å‹è¯„ä¼°æ¥å£

#### 4.1 å¯åŠ¨æ¨¡å‹è¯„ä¼°
```http
POST /api/v1/models/{model_name}/evaluate
Content-Type: application/json
```

**è·¯å¾„å‚æ•°:**

- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "evaluation_config": {  // è¯„ä¼°é…ç½®
    "test_dataset_id": "test_ds_20240924_001",  // æµ‹è¯•æ•°æ®é›†IDï¼ˆå¯é€‰ï¼Œä¸test_dataäºŒé€‰ä¸€ï¼‰
    "test_data": {  // æµ‹è¯•æ•°æ®æ—¶é—´èŒƒå›´ï¼ˆå¯é€‰ï¼Œä¸test_dataset_idäºŒé€‰ä¸€ï¼‰
      "start_time": "2024-08-01T00:00:00Z",  // æµ‹è¯•æ•°æ®å¼€å§‹æ—¶é—´
      "end_time": "2024-09-01T00:00:00Z"     // æµ‹è¯•æ•°æ®ç»“æŸæ—¶é—´
    },
    "metrics": ["mae", "rmse", "mape", "smape", "msis"],  // è¯„ä¼°æŒ‡æ ‡åˆ—è¡¨
    "cross_validation": {  // äº¤å‰éªŒè¯é…ç½®ï¼ˆå¯é€‰ï¼‰
      "enabled": true,     // æ˜¯å¦å¯ç”¨äº¤å‰éªŒè¯
      "n_splits": 5,       // äº¤å‰éªŒè¯æŠ˜æ•°ï¼ˆ3-10ï¼‰
      "test_size": 0.2     // æµ‹è¯•é›†æ¯”ä¾‹ï¼ˆ0.1-0.3ï¼‰
    },
    "evaluation_period": {  // è¯„ä¼°æ—¶æœŸé…ç½®ï¼ˆå¯é€‰ï¼‰
      "prediction_lengths": [1, 6, 24, 168],  // ä¸åŒé¢„æµ‹é•¿åº¦çš„è¯„ä¼°
      "quantiles": [0.1, 0.5, 0.9]           // åˆ†ä½æ•°è¯„ä¼°
    }
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "evaluation_id": "eval_20240924_001",    // è¯„ä¼°ä»»åŠ¡å”¯ä¸€æ ‡è¯†ç¬¦
  "model_name": "factory_energy_deepar_v1", // æ¨¡å‹åç§°
  "status": "initiated",                   // è¯„ä¼°çŠ¶æ€ï¼šinitiated/running/completed/failed
  "test_data_info": {  // æµ‹è¯•æ•°æ®ä¿¡æ¯
    "dataset_id": "test_ds_20240924_001",  // æµ‹è¯•æ•°æ®é›†ID
    "records_count": 2160,                 // æµ‹è¯•è®°å½•æ•°
    "time_range": {                        // æµ‹è¯•æ—¶é—´èŒƒå›´
      "start": "2024-08-01T00:00:00Z",
      "end": "2024-09-01T00:00:00Z"
    }
  },
  "estimated_duration": "15m",             // é¢„ä¼°è¯„ä¼°æ—¶é—´
  "created_at": "2024-09-24T18:00:00Z"     // è¯„ä¼°ä»»åŠ¡åˆ›å»ºæ—¶é—´
}
```

#### 4.2 è·å–è¯„ä¼°ç»“æœ
```http
GET /api/v1/models/{model_name}/evaluations/{evaluation_id}
```

**è·¯å¾„å‚æ•°:**

- `model_name`: æ¨¡å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰
- `evaluation_id`: è¯„ä¼°ä»»åŠ¡IDï¼ˆå­—ç¬¦ä¸²ï¼‰

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "evaluation_id": "eval_20240924_001",      // è¯„ä¼°ä»»åŠ¡ID
  "model_name": "factory_energy_deepar_v1",  // æ¨¡å‹åç§°
  "status": "completed",                     // è¯„ä¼°çŠ¶æ€ï¼šrunning/completed/failed
  "metrics": {  // æ•´ä½“è¯„ä¼°æŒ‡æ ‡
    "mae": 12.5,    // å¹³å‡ç»å¯¹è¯¯å·®
    "rmse": 18.7,   // å‡æ–¹æ ¹è¯¯å·®
    "mape": 8.3,    // å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®
    "smape": 7.9,   // å¯¹ç§°å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®
    "msis": 1.23    // å‡å€¼ç¼©æ”¾åŒºé—´åˆ†æ•°
  },
  "detailed_results": {  // è¯¦ç»†è¯„ä¼°ç»“æœ
    "by_horizon": {  // æŒ‰é¢„æµ‹æ—¶é—´è·¨åº¦åˆ†ç±»çš„ç»“æœ
      "1h": {"mae": 8.2, "rmse": 12.1},     // 1å°æ—¶é¢„æµ‹çš„æŒ‡æ ‡
      "6h": {"mae": 11.8, "rmse": 16.4},    // 6å°æ—¶é¢„æµ‹çš„æŒ‡æ ‡
      "24h": {"mae": 15.3, "rmse": 22.7}    // 24å°æ—¶é¢„æµ‹çš„æŒ‡æ ‡
    },
    "by_device": {  // æŒ‰è®¾å¤‡åˆ†ç±»çš„ç»“æœ
      "device_001": {"mae": 10.2, "rmse": 15.8},  // è®¾å¤‡001çš„æŒ‡æ ‡
      "device_002": {"mae": 14.8, "rmse": 21.6}   // è®¾å¤‡002çš„æŒ‡æ ‡
    },
    "by_quantile": {  // æŒ‰åˆ†ä½æ•°åˆ†ç±»çš„ç»“æœ
      "0.1": {"coverage": 0.12, "width": 15.2},   // 10%åˆ†ä½æ•°è¦†ç›–ç‡å’Œå®½åº¦
      "0.5": {"coverage": 0.51, "width": 25.8},   // 50%åˆ†ä½æ•°è¦†ç›–ç‡å’Œå®½åº¦
      "0.9": {"coverage": 0.89, "width": 45.6}    // 90%åˆ†ä½æ•°è¦†ç›–ç‡å’Œå®½åº¦
    }
  },
  "benchmark_comparison": {  // åŸºå‡†æ¨¡å‹å¯¹æ¯”
    "naive_seasonal": {"mae": 28.4, "rmse": 35.2},      // æœ´ç´ å­£èŠ‚æ€§æ¨¡å‹
    "linear_regression": {"mae": 22.1, "rmse": 29.8},   // çº¿æ€§å›å½’æ¨¡å‹
    "deepar": {"mae": 12.5, "rmse": 18.7}               // DeepARæ¨¡å‹ï¼ˆå½“å‰ï¼‰
  },
  "evaluation_summary": {  // è¯„ä¼°æ€»ç»“
    "test_period": {  // æµ‹è¯•æ—¶æœŸ
      "start": "2024-08-01T00:00:00Z",
      "end": "2024-09-01T00:00:00Z"
    },
    "total_predictions": 2160,        // æ€»é¢„æµ‹æ•°é‡
    "evaluation_duration": "12m 35s", // è¯„ä¼°è€—æ—¶
    "completed_at": "2024-09-24T18:15:00Z"  // è¯„ä¼°å®Œæˆæ—¶é—´
  }
}
```

#### 4.3 æ¨¡å‹å¯¹æ¯”è¯„ä¼°
```http
POST /api/v1/models/compare
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "models": [  // è¦å¯¹æ¯”çš„æ¨¡å‹åˆ—è¡¨ï¼ˆ2-5ä¸ªæ¨¡å‹ï¼‰
    {"name": "factory_energy_deepar_v1", "version": "v1.1.0"},  // æ¨¡å‹1
    {"name": "factory_energy_deepar_v1", "version": "v1.2.0"}   // æ¨¡å‹2
  ],
  "test_dataset_id": "test_ds_20240924_001",  // æµ‹è¯•æ•°æ®é›†IDï¼ˆå¯é€‰ï¼Œä¸test_dataäºŒé€‰ä¸€ï¼‰
  "test_data": {  // æµ‹è¯•æ•°æ®æ—¶é—´èŒƒå›´ï¼ˆå¯é€‰ï¼Œä¸test_dataset_idäºŒé€‰ä¸€ï¼‰
    "start_time": "2024-08-01T00:00:00Z",  // æµ‹è¯•å¼€å§‹æ—¶é—´
    "end_time": "2024-09-01T00:00:00Z"     // æµ‹è¯•ç»“æŸæ—¶é—´
  },
  "comparison_config": {  // å¯¹æ¯”é…ç½®ï¼ˆå¯é€‰ï¼‰
    "metrics": ["mae", "rmse", "mape"],        // å¯¹æ¯”æŒ‡æ ‡
    "statistical_test": "wilcoxon",            // ç»Ÿè®¡æ£€éªŒæ–¹æ³•ï¼šwilcoxon/t_test
    "significance_level": 0.05                 // æ˜¾è‘—æ€§æ°´å¹³
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "comparison_id": "comp_20240924_001",      // å¯¹æ¯”ä»»åŠ¡ID
  "status": "initiated",                     // å¯¹æ¯”çŠ¶æ€ï¼šinitiated/running/completed/failed
  "models_count": 2,                         // å‚ä¸å¯¹æ¯”çš„æ¨¡å‹æ•°é‡
  "test_data_info": {  // æµ‹è¯•æ•°æ®ä¿¡æ¯
    "records_count": 2160,
    "time_range": {
      "start": "2024-08-01T00:00:00Z",
      "end": "2024-09-01T00:00:00Z"
    }
  },
  "estimated_duration": "20m",               // é¢„ä¼°å¯¹æ¯”æ—¶é—´
  "created_at": "2024-09-24T19:00:00Z"       // å¯¹æ¯”ä»»åŠ¡åˆ›å»ºæ—¶é—´
}
```

### 5. æ•°æ®ç®¡ç†æ¥å£

#### 5.1 æ•°æ®ä¸Šä¼ 

```http
POST /api/v1/data/upload
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "dataset_name": "factory_energy_2024",    // æ•°æ®é›†åç§°ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
  "data_format": "json",                    // æ¥å£æ•°æ®æ ¼å¼ï¼šjsonï¼ˆåå°è‡ªåŠ¨è½¬æ¢ä¸ºCSVå­˜å‚¨ï¼‰
  "data_type": "training",                  // æ•°æ®ç±»å‹ï¼štraining/validation/test
  "description": "2024å¹´å·¥å‚èƒ½è€—æ•°æ®",       // æ•°æ®é›†æè¿°ï¼ˆå¯é€‰ï¼‰
  "metadata": {  // æ•°æ®é›†å…ƒä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
    "factory_id": "factory_001",
    "collection_start": "2024-01-01",
    "collection_end": "2024-12-31",
    "sampling_frequency": "1h"             // é‡‡æ ·é¢‘ç‡ï¼š1min/5min/1h/1d
  },
  "timeseries_data": [  // æ—¶é—´åºåˆ—æ•°æ®æ•°ç»„
    {
      "device_id": "device_001",           // è®¾å¤‡IDï¼ˆå¿…é¡»ï¼‰
      "device_info": {  // è®¾å¤‡ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
        "type": "energy_meter",
        "location": "production_line_1",
        "capacity": "500kW"
      },
      "data": [  // æ—¶åºæ•°æ®ç‚¹
        {
          "timestamp": "2024-01-01T00:00:00Z",  // æ—¶é—´æˆ³ï¼ˆISO 8601æ ¼å¼ï¼‰
          "energy_consumption": 120.5,          // èƒ½è€—å€¼(kW)
          "temperature": 25.6,                  // ç¯å¢ƒæ¸©åº¦(Â°C)
          "humidity": 65.2,                     // ç¯å¢ƒæ¹¿åº¦(%)
          "production_rate": 0.85,              // ç”Ÿäº§è´Ÿè·ç‡(0-1)
          "shift_type": "day_shift",            // ç­æ¬¡ç±»å‹ï¼ˆå¯é€‰ï¼‰
          "equipment_status": "normal"          // è®¾å¤‡çŠ¶æ€ï¼ˆå¯é€‰ï¼‰
        },
        {
          "timestamp": "2024-01-01T01:00:00Z",
          "energy_consumption": 118.3,
          "temperature": 26.1,
          "humidity": 64.8,
          "production_rate": 0.88,
          "shift_type": "day_shift",
          "equipment_status": "normal"
        }
      ]
    }
  ],
  "schema": {  // æ•°æ®æ¨¡å¼å®šä¹‰
    "timestamp_column": "timestamp",           // æ—¶é—´æˆ³åˆ—å
    "target_column": "energy_consumption",     // ç›®æ ‡é¢„æµ‹åˆ—å
    "feature_columns": ["temperature", "humidity", "production_rate"],  // ç‰¹å¾åˆ—å
    "device_id_column": "device_id"           // è®¾å¤‡IDåˆ—å
  },
  "validation_config": {  // æ•°æ®éªŒè¯é…ç½®ï¼ˆå¯é€‰ï¼‰
    "check_continuity": true,                 // æ£€æŸ¥æ—¶é—´è¿ç»­æ€§
    "check_outliers": true,                   // æ£€æŸ¥å¼‚å¸¸å€¼
    "outlier_method": "iqr",                  // å¼‚å¸¸å€¼æ£€æµ‹æ–¹æ³•ï¼šiqr/zscore
    "missing_value_handling": "interpolate"   // ç¼ºå¤±å€¼å¤„ç†ï¼šinterpolate/drop/fill
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "dataset_id": "ds_20240924_001",           // æ•°æ®é›†ID
  "dataset_name": "factory_energy_2024",     // æ•°æ®é›†åç§°
  "status": "uploaded",                      // ä¸Šä¼ çŠ¶æ€ï¼šuploaded/processing/failed
  "upload_info": {  // ä¸Šä¼ ä¿¡æ¯
    "total_records": 2,                      // æ€»è®°å½•æ•°
    "devices_count": 1,                      // è®¾å¤‡æ•°é‡
    "file_size": "2.5MB",                    // æ–‡ä»¶å¤§å°
    "processing_time": "15s",                // å¤„ç†æ—¶é—´
    "storage_format": "csv",                 // åå°å­˜å‚¨æ ¼å¼ï¼ˆè‡ªåŠ¨è½¬æ¢ï¼‰
    "compression_ratio": 0.65                // å­˜å‚¨å‹ç¼©æ¯”ï¼ˆç›¸æ¯”JSONï¼‰
  },
  "time_range": {  // æ—¶é—´èŒƒå›´
    "start": "2024-01-01T00:00:00Z",         // å¼€å§‹æ—¶é—´
    "end": "2024-01-01T01:00:00Z",           // ç»“æŸæ—¶é—´
    "duration": "1h"                         // æ—¶é—´è·¨åº¦
  },
  "data_quality": {  // æ•°æ®è´¨é‡è¯„ä¼°
    "completeness": 1.0,                     // å®Œæ•´æ€§è¯„åˆ†(0-1)
    "missing_values": 0,                     // ç¼ºå¤±å€¼æ•°é‡
    "duplicates": 0,                         // é‡å¤è®°å½•æ•°
    "outliers_count": 0,                     // å¼‚å¸¸å€¼æ•°é‡
    "continuity_score": 1.0,                 // æ—¶é—´è¿ç»­æ€§è¯„åˆ†(0-1)
    "quality_grade": "excellent"             // è´¨é‡ç­‰çº§ï¼šexcellent/good/fair/poor
  },
  "statistics": {  // æ•°æ®ç»Ÿè®¡
    "energy_consumption": {
      "min": 118.3, "max": 120.5, "mean": 119.4, "std": 1.56
    },
    "temperature": {
      "min": 25.6, "max": 26.1, "mean": 25.85, "std": 0.35
    }
  },
  "created_at": "2024-09-24T19:00:00Z"       // åˆ›å»ºæ—¶é—´
}
```

#### 5.2 æ•°æ®è´¨é‡æ£€æŸ¥

```http
POST /api/v1/data/{dataset_name}/quality-check
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°è¯´æ˜:**
```json
{
  "check_config": {  // æ£€æŸ¥é…ç½®ï¼ˆå¯é€‰ï¼‰
    "check_types": ["completeness", "consistency", "outliers", "duplicates"],  // æ£€æŸ¥ç±»å‹
    "outlier_method": "iqr",           // å¼‚å¸¸å€¼æ£€æµ‹æ–¹æ³•ï¼šiqr/zscore/isolation_forest
    "missing_threshold": 0.05,         // ç¼ºå¤±å€¼é˜ˆå€¼ï¼ˆ5%ï¼‰
    "outlier_threshold": 3.0,          // å¼‚å¸¸å€¼æ£€æµ‹é˜ˆå€¼
    "time_continuity_check": true      // æ—¶é—´è¿ç»­æ€§æ£€æŸ¥
  },
  "columns_config": {  // åˆ—çº§é…ç½®ï¼ˆå¯é€‰ï¼‰
    "energy_consumption": {
      "min_value": 0,                  // æœ€å°åˆç†å€¼
      "max_value": 1000,               // æœ€å¤§åˆç†å€¼
      "data_type": "float"
    },
    "temperature": {
      "min_value": -10,
      "max_value": 50,
      "data_type": "float"
    }
  }
}
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "dataset_name": "factory_energy_2024",        // æ•°æ®é›†åç§°
  "dataset_id": "ds_20240924_001",              // æ•°æ®é›†ID
  "check_timestamp": "2024-09-24T19:30:00Z",    // æ£€æŸ¥æ—¶é—´
  "overall_quality": {  // æ•´ä½“è´¨é‡è¯„ä¼°
    "quality_score": 0.87,                      // ç»¼åˆè´¨é‡è¯„åˆ†(0-1)
    "quality_grade": "good",                     // è´¨é‡ç­‰çº§ï¼šexcellent/good/fair/poor
    "total_records": 8640,                       // æ€»è®°å½•æ•°
    "processed_records": 8617                    // æœ‰æ•ˆè®°å½•æ•°
  },
  "detailed_issues": [  // è¯¦ç»†é—®é¢˜åˆ—è¡¨
    {
      "type": "missing_values",                  // é—®é¢˜ç±»å‹
      "severity": "medium",                      // ä¸¥é‡ç¨‹åº¦ï¼šlow/medium/high/critical
      "column": "temperature",                   // å½±å“åˆ—
      "count": 23,                              // é—®é¢˜æ•°é‡
      "percentage": 0.02,                       // é—®é¢˜æ¯”ä¾‹
      "description": "æ¸©åº¦ä¼ æ„Ÿå™¨æ•°æ®ç¼ºå¤±",        // é—®é¢˜æè¿°
      "impact": "å¯èƒ½å½±å“é¢„æµ‹ç²¾åº¦",               // å½±å“è¯„ä¼°
      "locations": [                            // é—®é¢˜ä½ç½®
        {"device_id": "device_001", "time_range": "2024-03-15 10:00-12:00"},
        {"device_id": "device_002", "time_range": "2024-04-20 14:00-16:00"}
      ]
    },
    {
      "type": "outliers",
      "severity": "low",
      "column": "energy_consumption",
      "count": 15,
      "percentage": 0.01,
      "description": "èƒ½è€—æ•°æ®å¼‚å¸¸å€¼æ£€æµ‹",
      "impact": "å¼‚å¸¸å€¼å¯èƒ½ä»£è¡¨è®¾å¤‡æ•…éšœæˆ–ç‰¹æ®Šå·¥å†µ",
      "outlier_details": {
        "method": "iqr",
        "threshold": 3.0,
        "values": [245.8, 258.1, 267.3]         // å¼‚å¸¸å€¼ç¤ºä¾‹
      }
    }
  ],
  "statistics_summary": {  // ç»Ÿè®¡æ‘˜è¦
    "completeness": {
      "overall": 0.95,                          // æ•´ä½“å®Œæ•´æ€§
      "by_column": {
        "energy_consumption": 1.0,
        "temperature": 0.88,
        "humidity": 0.92
      }
    },
    "consistency": {
      "time_continuity": 0.98,                  // æ—¶é—´è¿ç»­æ€§
      "value_consistency": 0.94                 // æ•°å€¼ä¸€è‡´æ€§
    }
  },
  "recommendations": [  // æ”¹è¿›å»ºè®®
    {
      "priority": "high",                       // ä¼˜å…ˆçº§ï¼šhigh/medium/low
      "action": "interpolate_missing_values",   // å»ºè®®æ“ä½œ
      "description": "å¯¹æ¸©åº¦ç¼ºå¤±å€¼è¿›è¡Œçº¿æ€§æ’å€¼å¤„ç†",
      "columns": ["temperature"],
      "estimated_improvement": "+0.08"          // é¢„ä¼°è´¨é‡æå‡
    },
    {
      "priority": "medium",
      "action": "investigate_outliers",
      "description": "è°ƒæŸ¥èƒ½è€—å¼‚å¸¸å€¼ï¼Œç¡®è®¤æ˜¯å¦ä¸ºè®¾å¤‡æ•…éšœ",
      "columns": ["energy_consumption"],
      "estimated_improvement": "+0.05"
    }
  ],
  "next_steps": [  // åç»­æ­¥éª¤å»ºè®®
    "æ‰§è¡Œæ•°æ®æ¸…æ´—æ“ä½œ",
    "é‡æ–°ä¸Šä¼ å¤„ç†åçš„æ•°æ®",
    "è¿›è¡Œæ¨¡å‹è®­ç»ƒå‰çš„æœ€ç»ˆéªŒè¯"
  ]
}
```

### 6. ç›‘æ§ä¸è¿ç»´æ¥å£

#### 6.1 ç³»ç»Ÿå¥åº·æ£€æŸ¥

```http
GET /api/v1/health
```

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "status": "healthy",                    // ç³»ç»Ÿæ•´ä½“çŠ¶æ€ï¼šhealthy/degraded/unhealthy
  "timestamp": "2024-09-24T12:00:00Z",    // æ£€æŸ¥æ—¶é—´æˆ³
  "version": "v1.2.0",                   // æœåŠ¡ç‰ˆæœ¬
  "uptime": "15d 8h 23m",               // ç³»ç»Ÿè¿è¡Œæ—¶é—´
  "services": {  // å„æœåŠ¡çŠ¶æ€è¯¦æƒ…
    "model_service": {
      "status": "healthy",               // æœåŠ¡çŠ¶æ€
      "response_time": 45,               // å“åº”æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
      "last_check": "2024-09-24T11:59:30Z"
    },
    "data_service": {
      "status": "healthy",
      "response_time": 23,
      "last_check": "2024-09-24T11:59:30Z"
    },
    "database": {
      "status": "healthy",
      "connection_pool": "8/20",         // è¿æ¥æ± ä½¿ç”¨æƒ…å†µ
      "query_avg_time": 15               // å¹³å‡æŸ¥è¯¢æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    },
    "cache": {
      "status": "healthy",
      "hit_rate": 0.94,                  // ç¼“å­˜å‘½ä¸­ç‡
      "memory_usage": "1.2GB/4GB"       // å†…å­˜ä½¿ç”¨æƒ…å†µ
    }
  },
  "system_metrics": {  // ç³»ç»Ÿèµ„æºæŒ‡æ ‡
    "cpu_usage": 45.2,                   // CPUä½¿ç”¨ç‡ï¼ˆ%ï¼‰
    "memory_usage": 67.8,                // å†…å­˜ä½¿ç”¨ç‡ï¼ˆ%ï¼‰
    "disk_usage": 34.5,                  // ç£ç›˜ä½¿ç”¨ç‡ï¼ˆ%ï¼‰
    "network_io": {
      "in": "125MB/s",                   // ç½‘ç»œå…¥æµé‡
      "out": "87MB/s"                    // ç½‘ç»œå‡ºæµé‡
    }
  },
  "business_metrics": {  // ä¸šåŠ¡æŒ‡æ ‡
    "active_models": 3,                  // æ´»è·ƒæ¨¡å‹æ•°é‡
    "total_devices": 156,                // ç›‘æ§è®¾å¤‡æ€»æ•°
    "prediction_requests_per_minute": 125, // æ¯åˆ†é’Ÿé¢„æµ‹è¯·æ±‚æ•°
    "daily_predictions": 12750,          // æ—¥é¢„æµ‹æ¬¡æ•°
    "model_accuracy_avg": 91.2           // å¹³å‡æ¨¡å‹å‡†ç¡®ç‡ï¼ˆ%ï¼‰
  },
  "alerts": [  // å½“å‰å‘Šè­¦ï¼ˆå¯é€‰ï¼‰
    {
      "level": "warning",                // å‘Šè­¦çº§åˆ«ï¼šinfo/warning/error/critical
      "message": "ç£ç›˜ä½¿ç”¨ç‡è¶…è¿‡80%",      // å‘Šè­¦ä¿¡æ¯
      "timestamp": "2024-09-24T11:45:00Z"
    }
  ]
}
```

#### 6.2 æ€§èƒ½æŒ‡æ ‡

```http
GET /api/v1/metrics?start_time=2024-09-24T00:00:00Z&end_time=2024-09-24T12:00:00Z&metric_types=prediction,resource
```

**æŸ¥è¯¢å‚æ•°è¯´æ˜:**

- `start_time`: å¼€å§‹æ—¶é—´ï¼ˆISO 8601æ ¼å¼ï¼Œå¯é€‰ï¼Œé»˜è®¤1å°æ—¶å‰ï¼‰
- `end_time`: ç»“æŸæ—¶é—´ï¼ˆISO 8601æ ¼å¼ï¼Œå¯é€‰ï¼Œé»˜è®¤å½“å‰æ—¶é—´ï¼‰
- `metric_types`: æŒ‡æ ‡ç±»å‹ï¼ˆå¯é€‰ï¼‰ï¼šprediction,resource,model,business ç”¨é€—å·åˆ†éš”
- `aggregation`: èšåˆæ–¹å¼ï¼ˆå¯é€‰ï¼‰ï¼šraw/minute/hour/dayï¼Œé»˜è®¤minute
- `device_id`: ç‰¹å®šè®¾å¤‡IDï¼ˆå¯é€‰ï¼Œç”¨äºè®¾å¤‡çº§æŒ‡æ ‡ï¼‰

**å“åº”å‚æ•°è¯´æ˜:**
```json
{
  "time_range": {  // æ—¶é—´èŒƒå›´ä¿¡æ¯
    "start": "2024-09-24T00:00:00Z",
    "end": "2024-09-24T12:00:00Z",
    "duration": "12h"
  },
  "prediction_metrics": {  // é¢„æµ‹æœåŠ¡æŒ‡æ ‡
    "requests": {
      "total_requests": 8750,           // æ€»è¯·æ±‚æ•°
      "successful_requests": 8735,      // æˆåŠŸè¯·æ±‚æ•°
      "failed_requests": 15,            // å¤±è´¥è¯·æ±‚æ•°
      "requests_per_minute": 12.1       // æ¯åˆ†é’Ÿè¯·æ±‚æ•°
    },
    "performance": {
      "average_response_time": 125,     // å¹³å‡å“åº”æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
      "p50_response_time": 98,          // 50åˆ†ä½å“åº”æ—¶é—´
      "p95_response_time": 245,         // 95åˆ†ä½å“åº”æ—¶é—´
      "p99_response_time": 387          // 99åˆ†ä½å“åº”æ—¶é—´
    },
    "accuracy": {
      "success_rate": 99.8,             // æˆåŠŸç‡ï¼ˆ%ï¼‰
      "error_rate": 0.2,                // é”™è¯¯ç‡ï¼ˆ%ï¼‰
      "timeout_rate": 0.05              // è¶…æ—¶ç‡ï¼ˆ%ï¼‰
    }
  },
  "model_metrics": {  // æ¨¡å‹ç›¸å…³æŒ‡æ ‡
    "deployment": {
      "active_models": 3,               // æ´»è·ƒæ¨¡å‹æ•°é‡
      "model_versions": ["v1.1.0", "v1.2.0", "v1.3.0"],
      "default_model": "factory_energy_deepar_v1:v1.3.0"
    },
    "performance": {
      "average_load_time": 2.3,         // å¹³å‡æ¨¡å‹åŠ è½½æ—¶é—´ï¼ˆç§’ï¼‰
      "prediction_latency": 45,         // é¢„æµ‹å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰
      "throughput": 856                 // ååé‡ï¼ˆpredictions/minuteï¼‰
    },
    "accuracy": {
      "overall_accuracy": 91.5,         // æ•´ä½“é¢„æµ‹å‡†ç¡®ç‡ï¼ˆ%ï¼‰
      "mae": 8.7,                       // å¹³å‡ç»å¯¹è¯¯å·®
      "rmse": 12.3,                     // å‡æ–¹æ ¹è¯¯å·®
      "mape": 7.2                       // å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®ï¼ˆ%ï¼‰
    }
  },
  "resource_metrics": {  // ç³»ç»Ÿèµ„æºæŒ‡æ ‡
    "compute": {
      "cpu_utilization": 45.2,          // CPUåˆ©ç”¨ç‡ï¼ˆ%ï¼‰
      "memory_utilization": 67.8,       // å†…å­˜åˆ©ç”¨ç‡ï¼ˆ%ï¼‰
      "gpu_utilization": 78.9,          // GPUåˆ©ç”¨ç‡ï¼ˆ%ï¼Œå¦‚æœ‰GPUï¼‰
      "gpu_memory_usage": 6.2           // GPUå†…å­˜ä½¿ç”¨ï¼ˆGBï¼‰
    },
    "storage": {
      "disk_usage": 34.5,               // ç£ç›˜ä½¿ç”¨ç‡ï¼ˆ%ï¼‰
      "disk_io_read": "125MB/s",        // ç£ç›˜è¯»å–é€Ÿåº¦
      "disk_io_write": "87MB/s"         // ç£ç›˜å†™å…¥é€Ÿåº¦
    },
    "network": {
      "bandwidth_in": "245MB/s",        // å…¥ç«™å¸¦å®½
      "bandwidth_out": "198MB/s",       // å‡ºç«™å¸¦å®½
      "connections": 124                // å½“å‰è¿æ¥æ•°
    }
  },
  "business_metrics": {  // ä¸šåŠ¡ç›¸å…³æŒ‡æ ‡
    "devices": {
      "total_monitored": 156,           // ç›‘æ§è®¾å¤‡æ€»æ•°
      "active_devices": 142,            // æ´»è·ƒè®¾å¤‡æ•°
      "offline_devices": 14             // ç¦»çº¿è®¾å¤‡æ•°
    },
    "predictions": {
      "daily_predictions": 12750,       // æ—¥é¢„æµ‹æ¬¡æ•°
      "energy_savings_predicted": "2.4MWh", // é¢„æµ‹èŠ‚èƒ½é‡
      "cost_savings": "$1,240"          // é¢„æµ‹èŠ‚çº¦æˆæœ¬
    },
    "alerts": {
      "critical_alerts": 2,             // ä¸¥é‡å‘Šè­¦æ•°
      "warning_alerts": 8,              // è­¦å‘Šå‘Šè­¦æ•°
      "info_alerts": 15                 // ä¿¡æ¯å‘Šè­¦æ•°
    }
  }
}
```

## æŠ€æœ¯æ ˆï¼ˆè½»é‡çº§ï¼‰

### æ ¸å¿ƒæ¡†æ¶
- **æ·±åº¦å­¦ä¹ æ¡†æ¶**: GluonTS + PyTorch
- **æ—¶é—´åºåˆ—å¤„ç†**: pandas, numpy
- **æ•°æ®é¢„å¤„ç†**: åŸºç¡€çš„æ•°æ®æ¸…æ´—å’ŒéªŒè¯

### WebæœåŠ¡æ¡†æ¶
- **APIæ¡†æ¶**: FastAPI
- **å¼‚æ­¥å¤„ç†**: asyncio (å†…ç½®)
- **APIæ–‡æ¡£**: FastAPIè‡ªå¸¦OpenAPI/Swagger

### æ•°æ®å­˜å‚¨
- **ç¼“å­˜ç³»ç»Ÿ**: Redis (å”¯ä¸€æ•°æ®åº“)
- **æ–‡ä»¶å­˜å‚¨**: JSONæ–‡ä»¶ (é…ç½®å’Œæ¨¡å‹æŒä¹…åŒ–)
- **ä¸´æ—¶å­˜å‚¨**: CSVæ–‡ä»¶ (è®­ç»ƒæ•°æ®ä¸´æ—¶å¤„ç†)

### è¿ç»´ç›‘æ§
- **å®¹å™¨åŒ–**: Docker (å¯é€‰)
- **åŸºç¡€ç›‘æ§**: ç³»ç»Ÿèµ„æºç›‘æ§ (CPU/å†…å­˜)
- **ç®€å•æ—¥å¿—**: Python loggingæ¨¡å—

### å¼€å‘å·¥å…·
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **æµ‹è¯•æ¡†æ¶**: pytest (åŸºç¡€æµ‹è¯•)
- **ä»£ç è§„èŒƒ**: Black + flake8

## éƒ¨ç½²æ¶æ„ï¼ˆè½»é‡çº§ï¼‰

### å•ä½“æœåŠ¡æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           FastAPI åº”ç”¨æœåŠ¡               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  APIè·¯ç”±     â”‚  â”‚  æ¨¡å‹è®­ç»ƒ    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  æ•°æ®å¤„ç†    â”‚  â”‚  æ¨¡å‹æ¨ç†    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Redis     â”‚  â”‚ JSON æ–‡ä»¶    â”‚      â”‚
â”‚  â”‚   ç¼“å­˜      â”‚  â”‚   å­˜å‚¨      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### éƒ¨ç½²ç¯å¢ƒ
- **å¼€å‘ç¯å¢ƒ**: Pythonç›´æ¥è¿è¡Œ æˆ– Docker
- **ç”Ÿäº§ç¯å¢ƒ**: Docker å•å®¹å™¨éƒ¨ç½²

## æ•°æ®æµç¨‹ï¼ˆç®€åŒ–ï¼‰

### 1. è®­ç»ƒæ•°æ®æµç¨‹
```
JSON APIè¯·æ±‚ â†’ æ•°æ®éªŒè¯ â†’ CSVä¸´æ—¶å­˜å‚¨ â†’ æ¨¡å‹è®­ç»ƒ â†’ RedisçŠ¶æ€ç¼“å­˜
```

### 2. é¢„æµ‹æœåŠ¡æµç¨‹
```
é¢„æµ‹è¯·æ±‚ â†’ æ¨¡å‹åŠ è½½ â†’ æ¨ç†è®¡ç®— â†’ Redisç»“æœç¼“å­˜ â†’ APIå“åº”
```

### 3. çŠ¶æ€ç®¡ç†æµç¨‹
```
ä»»åŠ¡çŠ¶æ€ â†’ Rediså­˜å‚¨ â†’ å®šæœŸæŒä¹…åŒ–åˆ°JSONæ–‡ä»¶
```

## åŸºç¡€å®‰å…¨

### ç®€åŒ–è®¤è¯
- **APIå¯†é’¥**: ç®€å•çš„API Keyè®¤è¯
- **åŸºç¡€éªŒè¯**: è¯·æ±‚å‚æ•°æ ¼å¼éªŒè¯
- **è®¿é—®æ—¥å¿—**: åŸºæœ¬çš„è¯·æ±‚æ—¥å¿—è®°å½•
- **æ•°æ®å¤‡ä»½**: å®šæœŸæ•°æ®å¤‡ä»½å’Œæ¢å¤æµ‹è¯•

## æ€§èƒ½ä¸æ‰©å±•ï¼ˆè½»é‡çº§ï¼‰

### æ€§èƒ½æŒ‡æ ‡
- **é¢„æµ‹å»¶è¿Ÿ**: < 500ms
- **å¹¶å‘å¤„ç†**: 50-100 è¯·æ±‚
- **å†…å­˜ä½¿ç”¨**: < 2GB
- **è®­ç»ƒæ—¶é—´**: æ ¹æ®æ•°æ®é‡è€Œå®š

### æ‰©å±•é™åˆ¶
- **å•æœºéƒ¨ç½²**: é€‚åˆä¸­å°è§„æ¨¡åº”ç”¨
- **å†…å­˜é™åˆ¶**: å—å•æœºå†…å­˜é™åˆ¶
- **è®¡ç®—èƒ½åŠ›**: CPUå¯†é›†å‹è®­ç»ƒ
- **å­˜å‚¨å®¹é‡**: æœ¬åœ°å­˜å‚¨ä¸ºä¸»

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.9+
- Redis 6.0+
- 4GB+ RAM
- Docker (å¯é€‰)

### æœ¬åœ°å¼€å‘éƒ¨ç½²
```bash
# å®‰è£…Redis
# Windows: ä¸‹è½½Rediså®‰è£…åŒ…
# Linux: sudo apt-get install redis-server
# macOS: brew install redis

# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/deepar-energy-prediction.git
cd deepar-energy-prediction

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨Redis
redis-server

# å¯åŠ¨æœåŠ¡
python app.py
```

### Dockeréƒ¨ç½²ï¼ˆå¯é€‰ï¼‰
```bash
# æ„å»ºé•œåƒ
docker build -t deepar-service .

# å¯åŠ¨Redis
docker run -d --name redis redis:alpine

# å¯åŠ¨æœåŠ¡
docker run -d --name deepar-api --link redis:redis -p 8000:8000 deepar-service
```

## è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Forké¡¹ç›®å¹¶åˆ›å»ºç‰¹æ€§åˆ†æ”¯
2. ç¼–å†™ä»£ç å’Œæµ‹è¯•ç”¨ä¾‹
3. è¿è¡Œæµ‹è¯•ç¡®ä¿è´¨é‡
4. æäº¤Pull Request
5. ä»£ç å®¡æŸ¥å’Œåˆå¹¶

### ä»£ç è§„èŒƒ
- éµå¾ªPEP 8 Pythonä»£ç é£æ ¼
- ä½¿ç”¨ç±»å‹æ³¨è§£ (Type Hints)
- ç¼–å†™å®Œæ•´çš„æ–‡æ¡£å­—ç¬¦ä¸²
- æµ‹è¯•è¦†ç›–ç‡ > 80%

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…: [190668340@qq.com](mailto:190668340@qq.com)
- æŠ€æœ¯æ”¯æŒ: [190668340@qq.com](mailto:190668340@qq.com)
- é¡¹ç›®ä¸»é¡µ: [https://github.com/chinaxujia/deepar-energy-prediction](https://github.com/chinaxujia/deepar-energy-prediction)

---

*æœ€åæ›´æ–°æ—¶é—´: 2024å¹´9æœˆ24æ—¥*